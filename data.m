%定义九个自由度
%第一个自由度：车身质心的垂向位移
%第二个自由度：车身的侧倾角 
%第三个自由度：车身的俯仰角
%第四个自由度：左前轮的垂向位移
%第五个自由度：右前轮的垂向位移
%第六个自由度：左后轮的垂向位移
%第七个自由度：右后轮的垂向位移
%第八个自由度：前排座椅的垂向位移
%第九个自由度：后排座椅的垂向位移
m2=1380;J2x=380;J2y=2440;
m1V=40.5;m1H=45.4;
m3=56;
%定义质量参数，单位为国际标准
k1V=192000;k1H=192000;
k2V=17000;k2H=22000;
k3=74500;
%定义刚度参数，单位为国际标准
c2V=1500;c2H=1500;
c3=3840;
%定义阻尼参数，单位为国际标准
l2V=1.25;l2H=1.51;
s=1.48;
l3V=0.625;l3H=0.75;ls=0.3;
al=ls;ar=-ls;
%定义尺寸参数，单位为国际标准
M7=[m2 0 0 0 0 0 0;...
   0 J2x 0 0 0 0 0;...
   0 0 J2y 0 0 0 0;...
   0 0 0 m1V 0 0 0;...
   0 0 0 0 m1V 0 0;...
   0 0 0 0 0 m1H 0;...
   0 0 0 0 0 0 m1H];
M8=[m2 0 0 0 0 0 0 0;...
    0 J2x 0 0 0 0 0 0;...
    0 0 J2y 0 0 0 0 0;...
    0 0 0 m1V 0 0 0 0;...
    0 0 0 0 m1V 0 0 0;...
    0 0 0 0 0 m1H 0 0;...
    0 0 0 0 0 0 m1H 0;...
    0 0 0 0 0 0 0 m3];
M9=[m2 0 0 0 0 0 0 0 0;...
    0 J2x 0 0 0 0 0 0 0;...
    0 0 J2y 0 0 0 0 0 0;...
    0 0 0 m1V 0 0 0 0 0;...
    0 0 0 0 m1V 0 0 0 0;...
    0 0 0 0 0 m1H 0 0 0;...
    0 0 0 0 0 0 m1H 0 0;...
    0 0 0 0 0 0 0 m3 0;...
    0 0 0 0 0 0 0 0 m3];  
%定义质量矩阵(M7表示无驾驶员情况，M8表示1个驾驶员情况，M9表示1个驾驶员+1个后排乘客情况）
K7=[2*(k2V+k2H) 0 2*(k2H*l2H-k2V*l2V) -k2V -k2V -k2H -k2H;...
    0 0.5*(k2V+k2H)*s^2 0 -0.5*k2V*s 0.5*k2V*s -0.5*k2H*s 0.5*k2H*s;...
    2*(k2H*l2H-k2V*l2V) 0 2*(k2V*l2V^2+k2H*l2H^2) k2V*l2V k2V*l2V -k2H*l2H -k2H*l2H;...
    -k2V -0.5*k2V*s k2V*l2V k1V+k2V 0 0 0;...
    -k2V 0.5*k2V*s k2V*l2V 0 k1V+k2V 0 0;...
    -k2H -0.5*k2H*s -k2H*l2H 0 0 k1H+k2H 0;...
    -k2H 0.5*k2H*s -k2H*l2H 0 0 0 k1H+k2H];
K8=[2*(k2V+k2H)+k3 k3*ls 2*(k2H*l2H-k2V*l2V)-k3*l3V -k2V -k2V -k2H -k2H -k3;...
    k3*ls 0.5*(k2V+k2H)*s^2+k3*ls^2 -k3*ls*l3V -0.5*k2V*s 0.5*k2V*s -0.5*k2H*s 0.5*k2H*s -k3*ls;...
    2*(k2H*l2H-k2V*l2V)-k3*l3V -k3*ls*l3V 2*(k2V*l2V^2+k2H*l2H^2)+k3*l3V^2 k2V*l2V k2V*l2V -k2H*l2H -k2H*l2H k3*l3V;...
    -k2V -0.5*k2V*s k2V*l2V k1V+k2V 0 0 0 0;...
    -k2V 0.5*k2V*s k2V*l2V 0 k1V+k2V 0 0 0;...
    -k2H -0.5*k2H*s -k2H*l2H 0 0 k1H+k2H 0 0;...
    -k2H 0.5*k2H*s -k2H*l2H 0 0 0 k1H+k2H 0;...
    -k3 -k3*ls k3*l3V 0 0 0 0 k3];
K9l=[2*(k2V+k2H+k3) k3*(ls+al) 2*(k2H*l2H-k2V*l2V)+k3*(l3H-l3V) -k2V -k2V -k2H -k2H -k3 -k3;...
    k3*(ls+al) 0.5*(k2V+k2H)*s^2+k3*(ls^2+al^2) k3*(al*l3H-ls*l3V) -0.5*k2V*s 0.5*k2V*s -0.5*k2H*s 0.5*k2H*s -k3*ls -k3*al;...
    2*(k2H*l2H-k2V*l2V)+k3*(l3H-l3V) k3*(al*l3H-ls*l3V) 2*(k2V*l2V^2+k2H*l2H^2)+k3*(l3V^2+l3H^2) k2V*l2V k2V*l2V -k2H*l2H -k2H*l2H k3*l3V -k3*l3H;...
    -k2V -0.5*k2V*s k2V*l2V k1V+k2V 0 0 0 0 0;...
    -k2V 0.5*k2V*s k2V*l2V 0 k1V+k2V 0 0 0 0;...
    -k2H -0.5*k2H*s -k2H*l2H 0 0 k1H+k2H 0 0 0;...
    -k2H 0.5*k2H*s -k2H*l2H 0 0 0 k1H+k2H 0 0;...
    -k3 -k3*ls k3*l3V 0 0 0 0 k3 0;...
    -k3 -k3*al -k3*l3H 0 0 0 0 0 k3];
K9r=[2*(k2V+k2H+k3) k3*(ls+ar) 2*(k2H*l2H-k2V*l2V)+k3*(l3H-l3V) -k2V -k2V -k2H -k2H -k3 -k3;...
    k3*(ls+ar) 0.5*(k2V+k2H)*s^2+k3*(ls^2+ar^2) k3*(ar*l3H-ls*l3V) -0.5*k2V*s 0.5*k2V*s -0.5*k2H*s 0.5*k2H*s -k3*ls -k3*ar;...
    2*(k2H*l2H-k2V*l2V)+k3*(l3H-l3V) k3*(ar*l3H-ls*l3V) 2*(k2V*l2V^2+k2H*l2H^2)+k3*(l3V^2+l3H^2) k2V*l2V k2V*l2V -k2H*l2H -k2H*l2H k3*l3V -k3*l3H;...
    -k2V -0.5*k2V*s k2V*l2V k1V+k2V 0 0 0 0 0;...
    -k2V 0.5*k2V*s k2V*l2V 0 k1V+k2V 0 0 0 0;...
    -k2H -0.5*k2H*s -k2H*l2H 0 0 k1H+k2H 0 0 0;...
    -k2H 0.5*k2H*s -k2H*l2H 0 0 0 k1H+k2H 0 0;...
    -k3 -k3*ls k3*l3V 0 0 0 0 k3 0;...
    -k3 -k3*ar -k3*l3H 0 0 0 0 0 k3];
%定义刚度矩阵(K7表示无驾驶员情况，K8表示1个驾驶员情况，K9l表示1个驾驶员+1个左后排乘客情况，K9r表示1个驾驶员+1个右后排乘客情况）
C7=[2*(c2V+c2H) 0 2*(c2H*l2H-c2V*l2V) -c2V -c2V -c2H -c2H;...
    0 0.5*(c2V+c2H)*s^2 0 -0.5*c2V*s 0.5*c2V*s -0.5*c2H*s 0.5*c2H*s;...
    2*(c2H*l2H-c2V*l2V) 0 2*(c2V*l2V^2+c2H*l2H^2) c2V*l2V c2V*l2V -c2H*l2H -c2H*l2H;...
    -c2V -0.5*c2V*s c2V*l2V c2V 0 0 0;...
    -c2V 0.5*c2V*s c2V*l2V 0 c2V 0 0;...
    -c2H -0.5*c2H*s -c2H*l2H 0 0 c2H 0;...
    -c2H 0.5*c2H*s -c2H*l2H 0 0 0 c2H];
C8=[2*(c2V+c2H)+c3 c3*ls 2*(c2H*l2H-c2V*l2V)-c3*l3V -c2V -c2V -c2H -c2H -c3;...
    c3*ls 0.5*(c2V+c2H)*s^2+c3*ls^2 -c3*ls*l3V -0.5*c2V*s 0.5*c2V*s -0.5*c2H*s 0.5*c2H*s -c3*ls;...
    2*(c2H*l2H-c2V*l2V)-c3*l3V -c3*ls*l3V 2*(c2V*l2V^2+c2H*l2H^2)+c3*l3V^2 c2V*l2V c2V*l2V -c2H*l2H -c2H*l2H c3*l3V;...
    -c2V -0.5*c2V*s c2V*l2V c2V 0 0 0 0;...
    -c2V 0.5*c2V*s c2V*l2V 0 c2V 0 0 0;...
    -c2H -0.5*c2H*s -c2H*l2H 0 0 c2H 0 0;...
    -c2H 0.5*c2H*s -c2H*l2H 0 0 0 c2H 0;...
    -c3 -c3*ls c3*l3V 0 0 0 0 c3];
C9l=[2*(c2V+c2H+c3) c3*(ls+al) 2*(c2H*l2H-c2V*l2V)+c3*(l3H-l3V) -c2V -c2V -c2H -c2H -c3 -c3;...
    c3*(ls+al) 0.5*(c2V+c2H)*s^2+c3*(ls^2+al^2) c3*(al*l3H-ls*l3V) -0.5*c2V*s 0.5*c2V*s -0.5*c2H*s 0.5*c2H*s -c3*ls -c3*al;...
    2*(c2H*l2H-c2V*l2V)+c3*(l3H-l3V) c3*(al*l3H-ls*l3V) 2*(c2V*l2V^2+c2H*l2H^2)+c3*(l3V^2+l3H^2) c2V*l2V c2V*l2V -c2H*l2H -c2H*l2H c3*l3V -c3*l3H;...
    -c2V -0.5*c2V*s c2V*l2V c2V 0 0 0 0 0;...
    -c2V 0.5*c2V*s c2V*l2V 0 c2V 0 0 0 0;...
    -c2H -0.5*c2H*s -c2H*l2H 0 0 c2H 0 0 0;...
    -c2H 0.5*c2H*s -c2H*l2H 0 0 0 c2H 0 0;...
    -c3 -c3*ls c3*l3V 0 0 0 0 c3 0;...
    -c3 -c3*al -c3*l3H 0 0 0 0 0 c3];
C9r=[2*(c2V+c2H+c3) c3*(ls+ar) 2*(c2H*l2H-c2V*l2V)+c3*(l3H-l3V) -c2V -c2V -c2H -c2H -c3 -c3;...
    c3*(ls+ar) 0.5*(c2V+c2H)*s^2+c3*(ls^2+ar^2) c3*(ar*l3H-ls*l3V) -0.5*c2V*s 0.5*c2V*s -0.5*c2H*s 0.5*c2H*s -c3*ls -c3*ar;...
    2*(c2H*l2H-c2V*l2V)+c3*(l3H-l3V) c3*(ar*l3H-ls*l3V) 2*(c2V*l2V^2+c2H*l2H^2)+c3*(l3V^2+l3H^2) c2V*l2V c2V*l2V -c2H*l2H -c2H*l2H c3*l3V -c3*l3H;...
    -c2V -0.5*c2V*s c2V*l2V c2V 0 0 0 0 0;...
    -c2V 0.5*c2V*s c2V*l2V 0 c2V 0 0 0 0;...
    -c2H -0.5*c2H*s -c2H*l2H 0 0 c2H 0 0 0;...
    -c2H 0.5*c2H*s -c2H*l2H 0 0 0 c2H 0 0;...
    -c3 -c3*ls c3*l3V 0 0 0 0 c3 0;...
    -c3 -c3*ar -c3*l3H 0 0 0 0 0 c3];
%定义阻尼矩阵(C7表示无驾驶员情况，C8表示1个驾驶员情况，C9l表示1个驾驶员+1个左后排乘客情况，C9r表示1个驾驶员+1个右后排乘客情况）